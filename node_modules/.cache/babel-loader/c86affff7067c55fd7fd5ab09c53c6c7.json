{"ast":null,"code":"var _jsxFileName = \"/Users/jeanaboutboul/Desktop/Metarecipe-local/src/pages/RecipePreferences.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Menu from '../components/Menu.js';\nimport DietRestriction from '../components/DietRestriction.js';\nimport Control from '../components/Control.js';\nimport ServiceApi from \"../services/ServiceApi.js\";\nimport { Spinner } from 'react-bootstrap';\nimport TopPanel from \"../components/TopPanel.js\";\nexport default function RecipePreferences() {\n  const [title, setTitle] = useState(\"Menu\");\n  const [choosedRecipe, setchoosedRecipe] = useState(null);\n  const [choosedDiet, setChoosedDiet] = useState(null);\n  const [menu, setMenu] = useState();\n  const [step, setStep] = useState(\"menu\");\n  useEffect(() => {\n    const getMenu = async () => {\n      ServiceApi.retrieveMenu().then(data => {\n        setMenu(data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    getMenu();\n  }, []);\n\n  const pickRecipe = recipe => {\n    setchoosedRecipe(recipe);\n    setTitle(\"Diet\");\n    setStep(\"diet\");\n  };\n\n  const dietCLick = diet => {\n    setChoosedDiet(diet);\n    setTitle(\"Dish\");\n    setStep(\"dish\");\n  };\n\n  const restart = () => {\n    setchoosedRecipe(null);\n    setChoosedDiet(null);\n    setTitle(\"Menu\");\n    setStep(\"menu\");\n  };\n\n  const replaceDiet = () => {\n    if (choosedRecipe) {\n      setChoosedDiet(null);\n      setTitle(\"Diet\");\n      setStep(\"diet\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TopPanel, {\n    restart: restart,\n    replaceDiet: replaceDiet,\n    step: step,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"text-center mt-3 \" + (title !== 'Dish' ? 'mb-md-1 mb-sm-1 ' : ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"display-4   align-self-center   text-uppercase font-weight-bold  \",\n    style: {\n      color: \"var(--secondary)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"var(--secondary)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, choosedRecipe && choosedRecipe.name, \"  \", choosedDiet && '\\u0026', \" \", choosedDiet && choosedDiet)))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, !menu && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Loading...\"))), !choosedRecipe && menu && /*#__PURE__*/React.createElement(Menu, {\n    data: menu,\n    pickRecipe: pickRecipe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }), choosedRecipe && menu && !choosedDiet && /*#__PURE__*/React.createElement(DietRestriction, {\n    dietCLick: dietCLick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 59\n    }\n  }), choosedRecipe && menu && choosedDiet && /*#__PURE__*/React.createElement(Control, {\n    recipe: choosedRecipe,\n    diet: choosedDiet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 58\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/jeanaboutboul/Desktop/Metarecipe-local/src/pages/RecipePreferences.js"],"names":["React","useState","useEffect","Menu","DietRestriction","Control","ServiceApi","Spinner","TopPanel","RecipePreferences","title","setTitle","choosedRecipe","setchoosedRecipe","choosedDiet","setChoosedDiet","menu","setMenu","step","setStep","getMenu","retrieveMenu","then","data","catch","err","console","log","pickRecipe","recipe","dietCLick","diet","restart","replaceDiet","color","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Menu from '../components/Menu.js';\nimport DietRestriction from '../components/DietRestriction.js';\nimport Control from '../components/Control.js';\nimport ServiceApi from \"../services/ServiceApi.js\";\nimport { Spinner } from 'react-bootstrap';\nimport TopPanel from \"../components/TopPanel.js\";\n\n\nexport default function RecipePreferences() {\n    const [title, setTitle] = useState(\"Menu\");\n    const [choosedRecipe, setchoosedRecipe] = useState(null);\n    const [choosedDiet, setChoosedDiet] = useState(null);\n    const [menu, setMenu] = useState();\n    const [step, setStep] = useState(\"menu\");\n\n\n    useEffect(() => {\n        const getMenu = async () => {\n            ServiceApi.retrieveMenu().then(data => {\n                setMenu(data);\n            })\n                .catch(err => {\n                    console.log(err);\n                });\n\n        };\n        getMenu();\n    }, []);\n\n\n    const pickRecipe = (recipe) => {\n        setchoosedRecipe(recipe);\n        setTitle(\"Diet\");\n        setStep(\"diet\")\n    }\n\n    const dietCLick = (diet) => {\n        setChoosedDiet(diet);\n        setTitle(\"Dish\");\n        setStep(\"dish\")\n\n    }\n\n    const restart = () => {\n        setchoosedRecipe(null);\n        setChoosedDiet(null)\n        setTitle(\"Menu\");\n        setStep(\"menu\");\n\n    }\n\n    const replaceDiet = () => {\n        if (choosedRecipe) {\n            setChoosedDiet(null);\n            setTitle(\"Diet\");\n            setStep(\"diet\")\n        }\n\n    }\n\n\n    return (\n        <div>\n            <TopPanel restart={restart} replaceDiet={replaceDiet} step={step} />\n            <div className=\"container-fluid\">\n\n                <header className={\"text-center mt-3 \" + (title !== 'Dish' ? 'mb-md-1 mb-sm-1 ' : '') } >\n\n                    <div\n                        className={\"display-4   align-self-center   text-uppercase font-weight-bold  \" }\n                        style={{ color: \"var(--secondary)\" }}>\n                        {title}\n                    </div>\n                    <div style={{ color: \"var(--secondary)\" }}>\n                        <h3>\n                            {choosedRecipe && choosedRecipe.name}  {choosedDiet && '\\u0026'} {choosedDiet && choosedDiet}\n                        </h3>\n\n                    </div>\n                </header>\n\n\n            </div>\n            <div>\n                {!menu && <div className=\"d-flex justify-content-center\">\n                    <Spinner animation=\"border\" role=\"status\" >\n                        <span className=\"sr-only\">Loading...</span>\n                    </Spinner>\n                </div>}\n                {!choosedRecipe && menu &&\n                    <Menu data={menu} pickRecipe={pickRecipe} />\n                }\n                {choosedRecipe && menu && !choosedDiet && <DietRestriction dietCLick={dietCLick} />}\n                {choosedRecipe && menu && choosedDiet && <Control recipe={choosedRecipe} diet={choosedDiet} />}\n            </div>\n        </div>\n\n    )\n}\n"]},"metadata":{},"sourceType":"module"}